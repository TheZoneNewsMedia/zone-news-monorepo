# Zone News Environment Variables Example
# Copy this file to .env.production and fill in your actual values
# NEVER commit actual .env files to version control

# Database
MONGODB_URI=mongodb://username:password@localhost:27017/zone_news_production
MONGODB_USERNAME=your_mongodb_username
MONGODB_PASSWORD=your_mongodb_password

# Redis
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# JWT Secrets (generate secure random values)
JWT_SECRET=your_secure_jwt_secret_here
JWT_REFRESH_SECRET=your_secure_refresh_jwt_secret_here

# Service Ports (aligned with ecosystem.config.js)
PORT=3001                          # API Gateway
WEBHOOK_PORT=3002                  # Bot Service
AUTH_SERVICE_PORT=4001
USER_SERVICE_PORT=4002
WORKFLOW_SERVICE_PORT=4003
CHANNELS_SERVICE_PORT=4004
SETTINGS_SERVICE_PORT=4005
ANALYTICS_SERVICE_PORT=4006
SUBSCRIPTION_SERVICE_PORT=4007

# Service URLs (internal communication)
API_URL=http://localhost:3001
AUTH_SERVICE_URL=http://localhost:4001
USER_SERVICE_URL=http://localhost:4002
WORKFLOW_SERVICE_URL=http://localhost:4003
CHANNELS_SERVICE_URL=http://localhost:4004
SETTINGS_SERVICE_URL=http://localhost:4005
ANALYTICS_SERVICE_URL=http://localhost:4006
SUBSCRIPTION_SERVICE_URL=http://localhost:4007

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here
WEBHOOK_URL=https://yourdomain.com/webhook
WEBHOOK_PORT=3002
WEBHOOK_SECRET=your_webhook_secret_here

# Admin IDs (comma-separated list of Telegram user IDs)
ADMIN_IDS=123456789,987654321

# MTProto Configuration
MTPROTO_API_ID=your_api_id_here
MTPROTO_API_HASH=your_api_hash_here
MTPROTO_SESSION_NAME=your_session_name

# Telegram Stars Payment (Native Telegram Payments)
# The bot token is used for payment processing - no additional keys needed
ADMIN_TOKEN=your_admin_token_here  # For subscription service admin endpoints

# CORS Origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://yourdomain.com

# Node Environment
NODE_ENV=production

# Logging
LOG_LEVEL=info
LOG_DIR=/var/log/zone-news

# Token Expiry
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=30d

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Server Configuration
SERVER_IP=your_server_ip
SERVER_DOMAIN=yourdomain.com
BOT_DOMAIN=bot.yourdomain.com

# Mini App Configuration
MINIAPP_PORT=8080
MINIAPP_URL=http://your_server_ip:8080

# Internal Service Authentication
INTERNAL_SERVICE_TOKEN=your_internal_service_token

# Timezone
TIMEZONE=Australia/Adelaide

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_PAYMENTS=false
ENABLE_MTPROTO=true
ENABLE_CACHE=true

# Cache TTL (seconds)
CACHE_TTL_DEFAULT=300
CACHE_TTL_NEWS=600
CACHE_TTL_USER=1800

# Database Connection Pool
DB_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=5000

# Health Check
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=/backup/zone-news